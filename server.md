## 服务端安装教程（v0.1）

### 创建第一个版本

1. 首先在任意位置新建一个文件夹，名字随意，用来存放服务端程序，我这里就叫mvserver
2. 将McVersioning.jar和MiniHttpServer.jar复制到mvserver目录，新建一个文件叫`mv-start.bat`，粘贴这些内容`java -jar xxx.jar`（xxx换成McVersioning.jar实际文件名）
3. 可以看到mvserver目录下新增了两个目录client和public
4. client目录用来存放你要更新的文件，这里也是服主日常维护客户端文件的地方
5. public目录用来存放你曾经创建的版本，以供给客户端下载。这个目录不要手动修改
6. 将服务端客户端的模组文件复制到mvserver/client/.minecraft/mods/目录下
   1. 注意并不需要复制所有的文件（这点有别于更新助手），你只需要复制你未来可能会更新的文件就好，如果你能非常确定某个模组文件一万年都不需要更新，那么这种文件你就不用复制过去了。当然，一些会自动下载/生成的文件（一般是模组的一些依赖库，某些模组启动时会自动下载，并不需要手动安装）也不需要复制过去。
   1. 这里仅仅拿.minecraft/mods/目录下的模组文件举例子，如果你有其它文件需要更新，也请同样按照上一条步骤进行操作，复制到你想要的路径上就好。请尽量在第一次配置的时候就把需要更新的文件都复制过去，如果忘了复制，后面再发新版本的时候，你是没办法删掉这些忘记加进client里面的文件的。
7. 复制好要更新的文件以后，双击运行`mv-start.bat`，输入`3`+Enter，然后确认列出的文件修改无误
8. 接着按Enter回到主菜单，输入`1`+Enter开始创建新版本
   1. 输入一个新的版本号，不能和已有的冲突（版本号一般不需要以v开头，可以输入任意字符）
   2. 在程序旁边的`changelogs.txt`里粘贴进更新记录，然后保存文件（如果有更新记录的话）
   3. （如果你没有修改任何文件，会提示创建一个空版本，按y+Enter就可以继续）
   4. 
9. 新版创建完成之后按Enter回到主菜单，可以看到最新三个版本里已经出现你刚创建的版本了
10. 此时你已经发布了第一个版本。接着我们需要开启一个http服务器以供客户端检查更新
11. 之后创建新版本也是和上面一样的步骤，照葫芦画瓢即可

### 启动MiniHttpServer

> 如果你打算使用静态工具或者自己的服务端比如Apache或者Nginx，此章节可以直接跳过

1. 在MiniHttpServer.jar文件旁新建一个文本文件，改名为start.bat，把下面的代码复制进去然后保存

```
@echo off
for %%i in ("MiniHttpServer*.jar") do java -jar %%i
```

2. 双击启动这个刚创建的bat文件
3. 启动成功之后复制API地址后面的链接，粘贴到浏览器打开，如果一切顺利浏览器会显示1.0这个版本号
4. 如果你需要从外网进行访问，把地址部分换成你自己的外网IP或者域名再访问一次，确保可以访问
5. 然后MiniHttpServer的黑窗先不要关掉，后面配置客户端时会用到这个API地址后面配置
6. 到此，MiniHttpServer启动完毕
7. 接下来请前往客户端教程继续配置客户端程序，后面的教程"创建第二第三个版本"可以先不用看，等你需要用到的时候再回来查阅即可

## 一些使用提示

### 版本发错了怎么办

版本号一旦发布就不能撤回了，因为撤回会导致文件状态混乱。你应该额外发布一个更新的版本来替代撤回以修补你的过错

### 版本号并非判断新旧的依据

版本号不没有规定一定要往高迭代，也可以往低迭代，就是说你可以1.5版本更新到1.4版本，这都被允许的

因为版本的前后关系并不是直接判断版本号文字计算出来的，而是按照你打每个版本的时间顺序，后打的版本总是比先打的版本要新（存储在public/all-versions.txt里）版本号只是个标签罢了，不作为任何判断版本前后的依据
